<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KetoOS - macOS Leopard Style</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/windows.css">
    <link rel="stylesheet" href="styles/boot.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Boot Screen -->
    <div id="boot-screen" class="boot-screen">
        <div class="boot-content">
            <div class="apple-logo">üçé</div>
            <div class="boot-text">Starting up...</div>
            <div class="progress-bar">
                <div class="progress-fill"></div>
            </div>
        </div>
    </div>

    <!-- Desktop Background -->
    <div id="desktop" class="desktop">
        <!-- Desktop Icons -->
        <div class="desktop-icon" data-app="finder" style="left: 50px; top: 50px;">
            <div class="icon">üìÅ</div>
            <div class="label">Finder</div>
        </div>
        <div class="desktop-icon" data-app="safari" style="left: 50px; top: 150px;">
            <div class="icon">üåê</div>
            <div class="label">Safari</div>
        </div>
        <div class="desktop-icon" data-app="calculator" style="left: 50px; top: 250px;">
            <div class="icon">üßÆ</div>
            <div class="label">Calculator</div>
        </div>
        <div class="desktop-icon" data-app="terminal" style="left: 50px; top: 350px;">
            <div class="icon">üíª</div>
            <div class="label">Terminal</div>
        </div>
    </div>

    <!-- Menu Bar -->
    <div id="menubar" class="menubar">
        <div class="menu-item apple-menu" data-menu="apple">
            <span class="apple-icon">üçé</span>
        </div>
        <div class="menu-item app-menu" data-menu="finder">
            Finder
        </div>
        <div class="menu-item app-menu" data-menu="file">
            File
        </div>
        <div class="menu-item app-menu" data-menu="edit">
            Edit
        </div>
        <div class="menu-item app-menu" data-menu="view">
            View
        </div>
        <div class="menu-item app-menu" data-menu="window">
            Window
        </div>
        <div class="menu-item app-menu" data-menu="help">
            Help
        </div>
        <div class="menu-spacer"></div>
        <div class="menu-item system-menu" data-menu="wifi">
            üì∂
        </div>
        <div class="menu-item system-menu" data-menu="battery">
            üîã
        </div>
        <div class="menu-item system-menu" data-menu="clock" id="clock">
            12:00 PM
        </div>
    </div>

    <!-- Dock -->
    <div id="dock" class="dock">
        <div class="dock-container">
            <div class="dock-item" data-app="finder">
                <div class="dock-icon">üìÅ</div>
            </div>
            <div class="dock-item" data-app="safari">
                <div class="dock-icon">üåê</div>
            </div>
            <div class="dock-item" data-app="mail">
                <div class="dock-icon">‚úâÔ∏è</div>
            </div>
            <div class="dock-item" data-app="photos">
                <div class="dock-icon">üì∑</div>
            </div>
            <div class="dock-item" data-app="music">
                <div class="dock-icon">üéµ</div>
            </div>
            <div class="dock-item" data-app="calculator">
                <div class="dock-icon">üßÆ</div>
            </div>
            <div class="dock-item" data-app="terminal">
                <div class="dock-icon">üíª</div>
            </div>
            <div class="dock-separator"></div>
            <div class="dock-item" data-app="trash">
                <div class="dock-icon">üóëÔ∏è</div>
            </div>
        </div>
    </div>

    <!-- Context Menu -->
    <div id="context-menu" class="context-menu" style="display: none;">
        <!-- Dynamic content -->
    </div>

    <!-- Window Templates -->
    <template id="window-template">
        <div class="window">
            <div class="window-header">
                <div class="window-controls">
                    <div class="window-control close"></div>
                    <div class="window-control minimize"></div>
                    <div class="window-control maximize"></div>
                </div>
                <div class="window-title"></div>
            </div>
            <div class="window-content">
                <!-- App-specific content will be inserted here -->
            </div>
            <div class="resize-handle resize-n"></div>
            <div class="resize-handle resize-s"></div>
            <div class="resize-handle resize-e"></div>
            <div class="resize-handle resize-w"></div>
            <div class="resize-handle resize-ne"></div>
            <div class="resize-handle resize-nw"></div>
            <div class="resize-handle resize-se"></div>
            <div class="resize-handle resize-sw"></div>
        </div>
    </template>

    <!-- App Content Templates -->
    <template id="finder-template">
        <div class="finder-app">
            <div class="finder-toolbar">
                <button class="toolbar-button">Back</button>
                <button class="toolbar-button">Forward</button>
                <div class="path-bar">/Users/keto/Desktop</div>
            </div>
            <div class="finder-content">
                <div class="finder-sidebar">
                    <div class="sidebar-item">Desktop</div>
                    <div class="sidebar-item">Documents</div>
                    <div class="sidebar-item">Downloads</div>
                    <div class="sidebar-item">Applications</div>
                </div>
                <div class="finder-main">
                    <div class="file-item">
                        <div class="file-icon">üìÑ</div>
                        <div class="file-name">Document.txt</div>
                    </div>
                    <div class="file-item">
                        <div class="file-icon">üìÅ</div>
                        <div class="file-name">Folder</div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <template id="safari-template">
        <div class="safari-app">
            <div class="safari-toolbar">
                <button class="toolbar-button">‚Üê</button>
                <button class="toolbar-button">‚Üí</button>
                <button class="toolbar-button">‚ü≥</button>
                <input type="text" class="url-bar" placeholder="Enter website name or address" value="https://www.apple.com">
                <button class="toolbar-button">Go</button>
            </div>
            <div class="safari-content">
                <div class="browser-placeholder">
                    <div class="placeholder-icon">üåê</div>
                    <div class="placeholder-text">Safari Browser</div>
                    <div class="placeholder-subtext">Enter a URL above to navigate</div>
                </div>
            </div>
        </div>
    </template>

    <template id="calculator-template">
        <div class="calculator-app">
            <div class="calculator-display">0</div>
            <div class="calculator-buttons">
                <button class="calc-button" data-value="C">C</button>
                <button class="calc-button" data-value="¬±">¬±</button>
                <button class="calc-button" data-value="%">%</button>
                <button class="calc-button operator" data-value="√∑">√∑</button>
                
                <button class="calc-button" data-value="7">7</button>
                <button class="calc-button" data-value="8">8</button>
                <button class="calc-button" data-value="9">9</button>
                <button class="calc-button operator" data-value="√ó">√ó</button>
                
                <button class="calc-button" data-value="4">4</button>
                <button class="calc-button" data-value="5">5</button>
                <button class="calc-button" data-value="6">6</button>
                <button class="calc-button operator" data-value="-">‚àí</button>
                
                <button class="calc-button" data-value="1">1</button>
                <button class="calc-button" data-value="2">2</button>
                <button class="calc-button" data-value="3">3</button>
                <button class="calc-button operator" data-value="+">+</button>
                
                <button class="calc-button zero" data-value="0">0</button>
                <button class="calc-button" data-value=".">.</button>
                <button class="calc-button operator" data-value="=">=</button>
            </div>
        </div>
    </template>

    <template id="terminal-template">
        <div class="terminal-app">
            <div class="terminal-header">
                <div class="terminal-title">Terminal</div>
                <div class="terminal-controls">
                    <div class="terminal-control minimize"></div>
                    <div class="terminal-control maximize"></div>
                    <div class="terminal-control close"></div>
                </div>
            </div>
            <div class="terminal-content">
                <div class="terminal-output">
                    <div class="output-line">Last login: Mon Dec 18 10:30:15 on ttys000</div>
                    <div class="output-line">keto-macbook:~ keto$ <span class="cursor">‚ñà</span></div>
                </div>
                <input type="text" class="terminal-input" placeholder="Enter command...">
            </div>
        </div>
    </template>

    <!-- Scripts (Fallback Version - No ES Modules) -->
    <script src="js/config-fallback.js"></script>
    <script src="js/os-fallback.js"></script>
    <script src="js/windows-fallback.js"></script>
    <script src="js/dock-fallback.js"></script>
    <script src="js/menubar-fallback.js"></script>
    <script src="js/apps-fallback.js"></script>
    <script src="js/context-menu-fallback.js"></script>
    <script src="js/boot-fallback.js"></script>
</body>
</html>
